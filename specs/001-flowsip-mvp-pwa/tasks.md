# ä»»å‹™æ¸…å–®ï¼šFlowSip PWA MVP

**è¼¸å…¥**: è¨­è¨ˆæ–‡ä»¶ä¾†è‡ª `/specs/001-flowsip-mvp-pwa/`  
**å‰ç½®éœ€æ±‚**: plan.md (å¿…éœ€), research.md, data-model.md, contracts/

## åŸ·è¡Œæµç¨‹æ¦‚è¿°
```
MVP æ¨¡å¼ï¼šåƒ…å¯¦ä½œæ ¸å¿ƒè¨ˆæ™‚åŠŸèƒ½å’ŒåŸºç¤ PWA æ”¯æ´
- é‡é»ï¼šå¿«é€Ÿé©—è­‰æ ¸å¿ƒåƒ¹å€¼ï¼ˆè¨ˆæ™‚å’Œæé†’ï¼‰
- æ¸¬è©¦ç­–ç•¥ï¼šç²¾ç°¡ä½†é—œéµçš„æ¸¬è©¦è¦†è“‹
- å»¶å¾ŒåŠŸèƒ½ï¼šçµ±è¨ˆåœ–è¡¨ã€é€²éšè¨­å®šã€å…¨é¢æ¸¬è©¦è¦†è“‹
```

## æ ¼å¼ï¼š`[ID] [P?] æè¿°`
- **[P]**: å¯å¹³è¡ŒåŸ·è¡Œï¼ˆä¸åŒæª”æ¡ˆï¼Œç„¡ç›¸ä¾æ€§ï¼‰
- æ¯å€‹ä»»å‹™åŒ…å«ç¢ºåˆ‡çš„æª”æ¡ˆè·¯å¾‘

## Phase 3.1: å°ˆæ¡ˆè¨­å®š

- [ ] **T001** å»ºç«‹ Nuxt 4 å°ˆæ¡ˆçµæ§‹ (`nuxt.config.ts`, `package.json`, ç›®éŒ„çµæ§‹)
- [ ] **T002** å®‰è£æ ¸å¿ƒç›¸ä¾å¥—ä»¶ (Nuxt 4, UnoCSS, @vite-pwa/nuxt, idb, @vueuse/core)
- [ ] **T003** [P] é…ç½®é–‹ç™¼å·¥å…· (ESLint, TypeScript, Vitest, Playwright)

## Phase 3.2: æ¸¬è©¦å„ªå…ˆ (TDD) âš ï¸ å¿…é ˆåœ¨ 3.3 å‰å®Œæˆ
**é—œéµï¼šé€™äº›æ¸¬è©¦å¿…é ˆå…ˆå¯«ä¸”å¿…é ˆå¤±æ•—ï¼Œæ‰èƒ½é–‹å§‹å¯¦ä½œ**

### å¥‘ç´„æ¸¬è©¦ï¼ˆMVP ç²¾ç°¡ç‰ˆï¼‰
- [ ] **T004** [P] TimerAPI å¥‘ç´„æ¸¬è©¦ï¼šstart/stop æ–¹æ³• (`tests/contract/timer-api.test.ts`)
- [ ] **T005** [P] StorageAPI å¥‘ç´„æ¸¬è©¦ï¼šsave/load åŸºæœ¬æ“ä½œ (`tests/contract/storage-api.test.ts`)

### E2E æ¸¬è©¦ï¼ˆMVP æ ¸å¿ƒå ´æ™¯ï¼‰
- [ ] **T006** [P] E2Eï¼šèƒŒæ™¯è¨ˆæ™‚æº–ç¢ºåº¦æ¸¬è©¦ (`tests/e2e/background-timing.spec.ts`)
- [ ] **T007** [P] E2Eï¼šé›¢ç·šå•Ÿå‹•åŠŸèƒ½æ¸¬è©¦ (`tests/e2e/offline-startup.spec.ts`) 
- [ ] **T008** [P] E2Eï¼šé€šçŸ¥æ‹’çµ•å¾Œçš„æ›¿ä»£æé†’ (`tests/e2e/notification-fallback.spec.ts`)

## Phase 3.3: æ ¸å¿ƒå¯¦ä½œï¼ˆåƒ…åœ¨æ¸¬è©¦å¤±æ•—å¾Œï¼‰

### å‹åˆ¥å’Œè³‡æ–™æ¨¡å‹
- [ ] **T009** [P] åŸºç¤å‹åˆ¥å®šç¾© (`types/index.ts` - TimerState, UserSettings, ActivityRecord)
- [ ] **T010** [P] è³‡æ–™é©—è­‰å·¥å…· (`utils/validation.ts`)

### æ ¸å¿ƒ Composables (MVP ç‰ˆ)
- [ ] **T011** [P] useTimer composable åŸºç¤ç‰ˆ (`composables/useTimer.ts` - åƒ… start/stop/ç‹€æ…‹)
- [ ] **T012** [P] useStorage composable ç²¾ç°¡ç‰ˆ (`composables/useStorage.ts` - localStorage åƒ…è¨­å®š)
- [ ] **T013** [P] useNotifications åŸºç¤ç‰ˆ (`composables/useNotifications.ts` - éŸ³æ•ˆ+è¦–è¦ºæé†’)

### Web Worker è¨ˆæ™‚ç³»çµ±
- [ ] **T014** Timer Web Worker å¯¦ä½œ (`workers/timer-worker.ts` - ç²¾æº–æ™‚é–“æˆ³è¨ˆæ™‚)

### UI å…ƒä»¶ (æ¥µç°¡ç‰ˆ)
- [ ] **T015** [P] è¨ˆæ™‚å™¨é¡¯ç¤ºå…ƒä»¶ (`components/Timer/Display.vue`)
- [ ] **T016** [P] æ§åˆ¶æŒ‰éˆ•å…ƒä»¶ (`components/Timer/Controls.vue`)
- [ ] **T017** [P] æ¨¡å¼åˆ‡æ›å…ƒä»¶ (`components/Timer/ModeSwitch.vue`)

### é é¢
- [ ] **T018** ä¸»è¨ˆæ™‚å™¨é é¢ (`pages/index.vue` - æ•´åˆæ‰€æœ‰å…ƒä»¶)
- [ ] **T019** æ ¹æ‡‰ç”¨ç¨‹å¼ (`app.vue` - åŸºæœ¬ä½ˆå±€å’Œä¸»é¡Œ)

## Phase 3.4: PWA æ•´åˆ

- [ ] **T020** PWA åŸºç¤é…ç½® (`nuxt.config.ts` ä¸­çš„ pwa è¨­å®š)
- [ ] **T021** [P] PWA åœ–ç¤ºå’Œæ¸…å–®æª”æ¡ˆ (`public/icons/`, `public/manifest.json`)
- [ ] **T022** [P] åŸºç¤éŸ³æ•ˆæª”æ¡ˆ (`public/sounds/`)

## Phase 3.5: æ•´åˆå’Œç²¾ç°¡é©—è­‰

- [ ] **T023** ä¸»é é¢æ•´åˆæ¸¬è©¦ï¼ˆæ‰€æœ‰å…ƒä»¶å”ä½œï¼‰
- [ ] **T024** è¨ˆæ™‚ç²¾æº–åº¦é©—è­‰ï¼ˆ<2ç§’èª¤å·®ï¼‰
- [ ] **T025** PWA å®‰è£åŠŸèƒ½é©—è­‰
- [ ] **T026** åŸºæœ¬æ•ˆèƒ½æª¢æŸ¥ï¼ˆ<1s å•Ÿå‹•æ™‚é–“ï¼‰

## ç›¸ä¾é—œä¿‚åœ–

```
T001,T002 â†’ T003 â†’ T004-T008ï¼ˆæ¸¬è©¦ï¼‰ â†’ T009,T010 â†’ T011-T013 â†’ T014-T019 â†’ T020-T022 â†’ T023-T026
     â†“              â†“                    â†“               â†“              â†“              â†“
   è¨­å®šéšæ®µ      æ¸¬è©¦å¿…é ˆå¤±æ•—         æ ¸å¿ƒ composables   UI + Worker    PWA è¨­å®š      æ•´åˆé©—è­‰
```

## å¹³è¡ŒåŸ·è¡Œç¯„ä¾‹

### Phase 3.2 (æ¸¬è©¦éšæ®µ):
```bash
Task: "TimerAPI å¥‘ç´„æ¸¬è©¦ï¼šstart/stop æ–¹æ³•åœ¨ tests/contract/timer-api.test.ts"
Task: "StorageAPI å¥‘ç´„æ¸¬è©¦ï¼šsave/load åŸºæœ¬æ“ä½œåœ¨ tests/contract/storage-api.test.ts"
Task: "E2Eï¼šèƒŒæ™¯è¨ˆæ™‚æº–ç¢ºåº¦æ¸¬è©¦åœ¨ tests/e2e/background-timing.spec.ts"
```

### Phase 3.3 (æ ¸å¿ƒå¯¦ä½œ):
```bash  
Task: "åŸºç¤å‹åˆ¥å®šç¾©åœ¨ types/index.ts"
Task: "è³‡æ–™é©—è­‰å·¥å…·åœ¨ utils/validation.ts"
Task: "useTimer composable åœ¨ composables/useTimer.ts"
```

## MVP ä»»å‹™è¦å‰‡

### åŒ…å«ï¼ˆæ¯å€‹ä»»å‹™ â‰¤ 1å°æ™‚ï¼‰:
- âœ… æ ¸å¿ƒè¨ˆæ™‚åŠŸèƒ½ï¼ˆå–æ°´30åˆ† + ç•ªèŒ„é˜25åˆ†ï¼‰
- âœ… åŸºæœ¬æé†’ï¼ˆéŸ³æ•ˆ + è¦–è¦ºï¼‰
- âœ… ç°¡å–® PWA æ”¯æ´
- âœ… é—œéµè·¯å¾‘çš„æ¸¬è©¦è¦†è“‹

### æ’é™¤ï¼ˆç§»è‡³ backlogï¼‰:
- âŒ å®Œæ•´çµ±è¨ˆåœ–è¡¨å’Œå ±å‘Š
- âŒ é€²éšè¨­å®šé é¢
- âŒ å…¨é¢å–®å…ƒæ¸¬è©¦çŸ©é™£
- âŒ CI/CD æµæ°´ç·š
- âŒ è¦–è¦ºå›æ­¸æ¸¬è©¦
- âŒ æ•ˆèƒ½åŸºæº–æ¸¬è©¦

## é©—è­‰æ¸…å–®

- [ ] æ‰€æœ‰é—œéµ composables æœ‰å¥‘ç´„æ¸¬è©¦
- [ ] æ ¸å¿ƒç”¨æˆ¶æµç¨‹æœ‰ E2E è¦†è“‹
- [ ] æ‰€æœ‰æ¸¬è©¦åœ¨å¯¦ä½œå‰æ’°å¯«ä¸”å¤±æ•—
- [ ] å¹³è¡Œä»»å‹™çœŸæ­£ç¨ç«‹
- [ ] æ¯å€‹ä»»å‹™æŒ‡å®šç¢ºåˆ‡æª”æ¡ˆè·¯å¾‘
- [ ] ç„¡ä»»å‹™ä¿®æ”¹èˆ‡å…¶ä»– [P] ä»»å‹™ç›¸åŒçš„æª”æ¡ˆ

## åŸ·è¡Œæ³¨æ„äº‹é …

1. **åš´æ ¼ TDD**: T004-T008 å¿…é ˆå…ˆå®Œæˆä¸”å¤±æ•—
2. **MVP å°ˆæ³¨**: æ¯å€‹å¯¦ä½œä»»å‹™å°ˆæ³¨æ–¼æœ€å°å¯ç”¨åŠŸèƒ½
3. **å¿«é€Ÿè¿­ä»£**: æ¯å€‹ä»»å‹™å®Œæˆå¾Œç«‹å³æäº¤
4. **æ¸¬è©¦é©…å‹•**: å¯¦ä½œä»¥é€šéæ¸¬è©¦ç‚ºç›®æ¨™ï¼Œä¸æ·»åŠ é¡å¤–åŠŸèƒ½

## ğŸ“‹ é€²åº¦è¿½è¹¤è¦å‰‡

**é‡è¦**: æ¯æ¬¡åŸ·è¡Œä»»å‹™å¾Œå¿…é ˆåŒæ™‚æ›´æ–°å…©å€‹æª”æ¡ˆï¼š

### 1. æ›´æ–° tasks.md
å°‡å®Œæˆçš„ä»»å‹™æ¨™è¨˜ç‚ºå®Œæˆï¼š
```markdown
- [x] **T00X** ä»»å‹™åç¨± âœ…
```

### 2. æ›´æ–° progress.md
æ›´æ–°è©³ç´°çš„ä»»å‹™ç‹€æ…‹ï¼š
```markdown
- [x] **T00X** ä»»å‹™åç¨±
  - **ç‹€æ…‹**: âœ… å·²å®Œæˆ
  - **å¯¦éš›æ™‚é–“**: Xå°æ™‚
  - **å®Œæˆæ™‚é–“**: 2025-09-XX XX:XX
  - **å‚™è¨»**: å¯¦ä½œè¦é»æˆ–é‡åˆ°çš„å•é¡Œ
```

**ç›®çš„**: 
- è¿½è¹¤å¯¦éš›é€²åº¦vsé ä¼°é€²åº¦
- è­˜åˆ¥æ™‚é–“ä¼°ç®—åå·®
- è¨˜éŒ„å¯¦ä½œéç¨‹ä¸­çš„å­¸ç¿’å’Œå•é¡Œ
- ç‚ºæœªä¾†é¡ä¼¼å°ˆæ¡ˆæä¾›åƒè€ƒæ•¸æ“š

## ğŸ“ èªè¨€è¦ç¯„è¦æ±‚

**æ‰€æœ‰é–‹ç™¼éç¨‹å‡ä½¿ç”¨æ­£é«”ä¸­æ–‡**ï¼ŒåŒ…æ‹¬ï¼š

### ä»»å‹™åŸ·è¡Œæ™‚
- **å›ç­”å’Œèªªæ˜**: AI åŠ©ç†å¿…é ˆç”¨æ­£é«”ä¸­æ–‡å›ç­”å•é¡Œ
- **ç¨‹å¼ç¢¼è¨»è§£**: æ‰€æœ‰è¨»è§£ä½¿ç”¨æ­£é«”ä¸­æ–‡æ’°å¯«
- **è®Šæ•¸å‘½å**: é©ç•¶ä½¿ç”¨ä¸­æ–‡æˆ–æœ‰æ„ç¾©çš„è‹±æ–‡ï¼Œé™„ä¸Šä¸­æ–‡è¨»è§£
- **æäº¤è¨Šæ¯**: Git commit è¨Šæ¯ä½¿ç”¨æ­£é«”ä¸­æ–‡

### æ–‡ä»¶æ›´æ–°æ™‚
- **é€²åº¦è¨˜éŒ„**: progress.md ä¸­çš„å‚™è¨»ä½¿ç”¨æ­£é«”ä¸­æ–‡
- **å•é¡Œæè¿°**: é‡åˆ°çš„æŠ€è¡“å•é¡Œç”¨æ­£é«”ä¸­æ–‡è¨˜éŒ„
- **è§£æ±ºæ–¹æ¡ˆ**: è§£æ±ºæ–¹æ³•å’Œå­¸ç¿’å¿ƒå¾—ç”¨æ­£é«”ä¸­æ–‡æ’°å¯«

### UI å¯¦ä½œæ™‚
- **ä»‹é¢æ–‡æ¡ˆ**: æ‰€æœ‰æŒ‰éˆ•ã€æ¨™ç±¤ã€æç¤ºä½¿ç”¨æ­£é«”ä¸­æ–‡
- **éŒ¯èª¤è¨Šæ¯**: ç”¨æˆ¶å‹å–„çš„æ­£é«”ä¸­æ–‡éŒ¯èª¤èªªæ˜
- **é€šçŸ¥å…§å®¹**: ç³»çµ±é€šçŸ¥ä½¿ç”¨æ­£é«”ä¸­æ–‡

**èªè¨€å“è³ªæ¨™æº–**ï¼š
- ä½¿ç”¨å°ç£æ…£ç”¨è©å½™å’Œèªæ³•
- ä¿æŒå°ˆæ¥­æ€§å’Œä¸€è‡´æ€§  
- æŠ€è¡“è¡“èªå„ªå…ˆä¸­æ–‡ï¼Œå¿…è¦æ™‚æ¨™è¨»è‹±æ–‡
- ç¢ºä¿ä½¿ç”¨è€…é«”é©—å®Œå…¨åœ¨åœ°åŒ–

**é ä¼°ç¸½æ™‚é•·**: 20-25 å°æ™‚ï¼ˆç¬¦åˆ 7 å¤©å…§ MVP ä¸Šç·šç›®æ¨™ï¼‰